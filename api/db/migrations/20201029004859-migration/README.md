# Migration `20201029004859-migration`

This migration has been generated by Russell at 10/28/2020, 8:48:59 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Project" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name" TEXT NOT NULL,
    "ownerEmail" TEXT NOT NULL,
    "logo" TEXT NOT NULL,
    "shortDescription" TEXT NOT NULL,
    "longDescription" TEXT NOT NULL,
    "coverImage" TEXT NOT NULL,
    "stripeId" TEXT NOT NULL,
    "videoLink" TEXT NOT NULL,
    "websiteLink" TEXT NOT NULL,
    "goalAmount" INTEGER NOT NULL,
    "currentMatchingAmount" INTEGER NOT NULL DEFAULT 0,
    "contributorCount" INTEGER NOT NULL DEFAULT 0,
    "contributionsTotal" INTEGER NOT NULL DEFAULT 0
);
INSERT INTO "new_Project" ("id", "name", "ownerEmail", "logo", "shortDescription", "longDescription", "coverImage", "stripeId", "goalAmount", "videoLink", "websiteLink") SELECT "id", "name", "ownerEmail", "logo", "shortDescription", "longDescription", "coverImage", "stripeId", "goalAmount", "videoLink", "websiteLink" FROM "Project";
DROP TABLE "Project";
ALTER TABLE "new_Project" RENAME TO "Project";
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201027182102-migration..20201029004859-migration
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource DS {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 model User {
   id         Int        @id @default(autoincrement())
@@ -28,17 +28,20 @@
   donor         User     @relation(fields: [userId], references: [id])
 }
 model Project {
-  id               Int        @id @default(autoincrement())
-  name             String
-  ownerEmail       String
-  logo             String
-  shortDescription String
-  longDescription  String
-  coverImage       String
-  stripeId         String
-  goalAmount       Int
-  videoLink        String
-  websiteLink      String
-  donations        Donation[]
+  id                    Int        @id @default(autoincrement())
+  name                  String
+  ownerEmail            String
+  logo                  String
+  shortDescription      String
+  longDescription       String
+  coverImage            String
+  stripeId              String
+  videoLink             String
+  websiteLink           String
+  donations             Donation[]
+  goalAmount            Int
+  currentMatchingAmount Int        @default(0)
+  contributorCount      Int        @default(0)
+  contributionsTotal    Int        @default(0)
 }
```


